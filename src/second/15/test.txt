【提出方法】と【注意事項】はこの課題説明分の末尾に記載されている．テストを始める前に必ず読んでおくこと．

学力レベルの高い県にはどのような特徴が見られるかを分析したい．

 

問題10,11を除き，すべてC言語のプログラムを作成する問題である．よって提出物はC言語のプログラムであり，Excel等のスプレッドシートを用いて値を出すような解法を想定していない．ただし，自身が作成したC言語のプログラムが算出した結果を確かめるためであればスプレッドシートを用いてもかまわない．

ここでは単純に「全国学力学習状況調査中3数学【点】」をその都道府県における学力レベルとみなすことにする．

全国学力学習状況調査のデータは以下のサイトを利用した．https://uub.jp/pdr/e/aaa_7b.html

地域の統計情報は以下のサイトからダウンロードした．
https://www.e-stat.go.jp/

これらのデータを組み合わせてCSVファイルを作成した．まずはこの課題末尾に添付されているstatistics.csvという名前のファイルをダウンロードせよ．以降，ファイル名やファイルの中身を一切変更してはいけない．

 statistics.csvでは，各都道府県について，以下の項目の値がCSV形式で与えられている．

 地域ID,地域, 全国学力学習状況調査中3数学【点】 ,総人口【人】,総面積【ha】,大学数【校】,財政教育費【千円】,図書館数【館】,１人当たり県民所得【千円】,教員数【人】

【】内は単位を表している．この単位は変更せずに以下の問いに答えること． 例えば１人当たり県民所得は単位が【千円】であるが，この平均値等を算出する際に単位を【円】に変換するような処理は行わないこと．

ーーーーーーーーーーーーーーーーーー

問題１．各都道府県を表すための構造体を用意せよ．

typedefを用いて，構造体の型はPrefという名前にすること．※ pref: prefecture(県)の略

元データのCSVで与えられているすべての項目についてメンバ変数を用意すること．メンバ変数の型は，地域IDを整数、地域のみ文字の配列とし，それ以外の項目はすべて実数(double)とせよ．

この問題ではmain関数内では何もする必要はない。

※今回与えられる数値はすべて整数だが，今後統計値を求める際にもこの構造体を再利用したいため実数のほうが都合が良い．

typedef struct pref{

  //メンバ変数

}Pref;


 ーーーーーーーーーーーーーーーーーー

 問題２．構造体の中身の値をCSV形式（カンマ区切り）でシンプルに表示するdispPrefを実装せよ．

 statistics.目にある福井県の値で初期化し，dispPrefを用いて表示せよ．余分な半角スペースや項目名などは表示しないこと．

main関数内で変数を初期化する際には，まず以下のように変数pを定義し，その後それぞれのメンバ変数の値を設定せよ．

Pref p;

この際，ファイルからの読み込みや一行分の文字列の分割などを行う必要はない．単純にそれぞれの値をプログラム内にコピー&ペーストするなりして設定すれば良い．

 出力例：
18,福井県,55.00,739000.00,419054.00,6.00,93266272.00,37.00,3182.00,20530.00

※ここで，地域ID以外の数値については小数点第二位まで表示されているのに注意せよ．単純に%fを用いると小数点以下の多くの桁が表示されてしまうため何らかの工夫が必要である．


 ーーーーーーーーーーーーーーーーーー

問題３．以下のCSV形式の文字列１行がmain関数内で与えられた際に，構造体Prefを初期化できるようにせよ．dispPrefを用いて表示せよ．

char line[]="18,福井県,55,739000,419054,6,93266272,37,3182,20530\n";

ーーーーーーーーーーーーーーーーーー

問題４．構造体Prefを格納する配列array （配列サイズは47）を用意し，statistics.csvファイルから一行ずつ読み込み，arrayの中に格納せよ．格納が完了した後，array内の各要素についてdispPrefで表示し，適切に全都道府県のデータが 格納されているのを確認せよ．statistics.csvはプログラムと同じ作業フォルダに置き，以下の相対パス指定によって指定せよ．

FILE *fp=fopen("./statistics.csv", "r");

ファイルが読み込めない際の例外処理を行うこと．ファイル読み込みと配列への格納を行うためのブロック、配列内を走査し内容を確認するブロックは必ず分離すること．

 ※statistics.csvの一行目は項目名となっているため，一行目を読み飛ばすようにプログラムを組むこと．statistics.csvファイルそのものの編集は一切認めない．

 

ーーーーーーーーーーーーーーーーーー

問題５．以下の各項目について，平均値を求めて表示せよ．

全国学力学習状況調査中3数学【点】,総人口【人】,総面積【ha】,大学数【校】,財政教育費【千円】,図書館数【館】,１人当たり県民所得【千円】,教員数【人】

平均値を表すために，構造体Pref型の変数を定義して用いること．その際，地域IDは48，地域名は「平均」として設定すること．結果はdispPrefを利用して表示すること．

 

ーーーーーーーーーーーーーーーーーー

問題6．以下の各項目について，分散を求めて表示せよ．

全国学力学習状況調査中3数学【点】,総人口【人】,総面積【ha】,大学数【校】,財政教育費【千円】,図書館数【館】,１人当たり県民所得【千円】,教員数【人】

分散を表すために，構造体Pref型の変数を定義して用いること．その際，地域IDは49，地域名は「分散」として設定すること．結果はdispPrefを利用して表示すること．

 

ーーーーーーーーーーーーーーーーーー

問題7．以下の各項目について，標準偏差を求めて表示せよ．

全国学力学習状況調査中3数学【点】,総人口【人】,総面積【ha】,大学数【校】,財政教育費【千円】,図書館数【館】,１人当たり県民所得【千円】,教員数【人】

標準偏差を表すために，構造体Pref型の変数を定義して用いること．その際，地域IDは50，地域名は「標準偏差」として設定すること．結果はdispPrefを利用して表示すること．

 

ーーーーーーーーーーーーーーーーーー

 問題８．各項目の関係を分析する際に有用な指標の一つに相関係数がある．相関係数を求めるための前段階として，各項目の共分散を算出する必要がある．共分散はxの偏差とyの偏差の積の平均値で与えられる．式は以下のようになる．x(上に横棒)はxの平均を意味する．
共分散の式

全国学力学習状況調査中3数学【点】と以下の項目の共分散をそれぞれ求めよ．

全国学力学習状況調査中3数学【点】,総人口【人】,総面積【ha】,大学数【校】,財政教育費【千円】,図書館数【館】,１人当たり県民所得【千円】,教員数【人】

共分散を表すために，構造体Pref型の変数を定義して用いること．その際，地域IDは51，地域名は「共分散」として設定すること．結果はdispPrefを利用して表示すること．

 ※ここでは全国学力学習状況調査中3数学【点】と全国学力学習状況調査中3数学【点】の共分散も計算することになる．同じ項目同士の共分散はその項目の分散と等しい．問題6で算出した結果と見比べてみると良い．

　

ーーーーーーーーーーーーーーーーーー
問題９．いよいよ相関係数を算出する．相関係数は以下の式で与えられる．１に近いほど相関が高く（正の相関），0に近いほど相関がないといえる．また-1に近いほど負の相関があるといえる．

相関係数の式

全国学力学習状況調査中3数学【点】と以下の項目の相関係数をそれぞれ求めよ．

 全国学力学習状況調査中3数学【点】,総人口【人】,総面積【ha】,大学数【校】,財政教育費【千円】,図書館数【館】,１人当たり県民所得【千円】,教員数【人】

相関係数を表すために，構造体Pref型の変数を定義して用いること．その際，地域IDは52，地域名は「相関係数」として設定すること．結果はdispPrefを利用して表示すること．

 ※ここでは全国学力学習状況調査中3数学【点】と全国学力学習状況調査中3数学【点】の相関係数も計算することになる．同じ項目同士の相関を自己相関といい，完全一致しているため相関係数の値は1となる．

　

ーーーーーーーーーーーーーーーーーー

問題１０．全国学力学習状況調査中3数学【点】との相関が最も高いものはどれか答えよ．またその相関係数を答えよ．ただし自己相関を除く．

この問題についてはテキストファイルとして提出せよ．ファイル名はq10.txtとする．

 テキストファイルの中身は（項目名,小数点第二位までの値）のCSV形式とせよ．例えば総人口【人】の相関係数が自己相関を除いて最も高く，その相関係数が0.88だった場合のファイル内容は以下のようになる．相関係数は小数点第二位まで表示せよ．

総人口【人】,0.88

　

ーーーーーーーーーーーーーーーーーー

問題１１．全国学力学習状況調査中3数学【点】との相関のうち２番目に高いものはどれか答えよ．またその相関係数を答えよ．ただし自己相関を除く．

この問題についてはテキストファイルとして提出せよ．ファイル名はq11.txtとする

テキストファイルの中身は（項目名,小数点第二位までの値）のCSV形式とせよ．例えば総人口【人】の相関係数が自己相関を除いて2番目に高く，その相関係数が0.88だった場合のファイル内容は以下のようになる．相関係数は小数点第二位まで表示せよ．

※相関関係は因果関係を示すものではないので解釈には注意が必要である．


---
【注意事項】
自身のプログラミング能力を測定するためのテストである．
インターネットでの検索はして良いものとする。ただし，リアルタイムにコミュニケーションできるツールや生成AIで直接質問する行為は不可とする。（例：Twitter、Yahoo知恵袋、Line，ChatGPT等はNG）学生間のコミュニケーションは不可とする。（例：会話、データのやり取り）
生成AIに基づくコードアシストは不可とする．もし開発環境で生成AIベースのコードアシストを利用する設定になっている場合にはその機能をOFFにすること．
その他常識的な範囲内でテストに臨むこと。

!!!!!!テスト中に不適切な行動をした者，提出物に他者からのコピーが認められた者については，
本学の規則に則り処分を行う．コピー元，コピー先は共に処分の対象となる．!!!!!

 ---

【採点基準】
正常に動作するのはもちろんのこと，適切な構造で記述されていること，インデント等の可読性も採点基準となる．例えばファイルから読み込んで構造体配列の初期化を行うブロック，統計処理を行うブロックなど，各ブロックの役割を単純化して理解や再利用のしやすい状態にしているのが望ましい．

---
【提出方法】

それぞれの問題番号がわかるファイル名またはフォルダ名にしてZipにまとめて提出してください。

例：
q1.c
q2.c
..


または
q1/main.c
q2/main.c

statistics.csvは提出物に含めなくて良い
